"use strict";var express=require("express"),proRoute=express.Router(),Pro=require("../model/product.model");proRoute.route("/").get(function(e,o){Pro.find(function(e,t){e?console.log(e):o.render("index",{products:t})})}),proRoute.route("/edit/:id").get(function(e,o){var t=e.params.id;Pro.findById({_id:t},function(e,t){console.log(t),o.render("edit",{product:t})})}),proRoute.route("/update/:id").post(function(o,r){var e=o.params.id;Pro.findById({_id:e},function(e,t){t?(t.title=o.body.title,t.image=o.body.image,t.price=o.body.price,t.gst=o.body.gst,t.description=o.body.description,t.save().then(function(e){r.redirect("/")}).catch(function(e){r.status(400).send("unable to update the values")})):r.status(400).send(" No data found")})}),proRoute.route("/create").get(function(e,t){t.render("create")}),proRoute.route("/edit/:id").get(function(e,t){t.render("edit")}),proRoute.route("/add").post(function(e,t){var o=new Pro(e.body);console.log(o),o.save().then(function(e){t.redirect("/")}).catch(function(e){t.status(400).send("Unable to save value into database")})}),proRoute.route("/delete/:id").get(function(e,o){var t=e.params.id;Pro.findByIdAndDelete({_id:t},function(e,t){e?console.log(e):o.redirect("/")})}),module.exports=proRoute;